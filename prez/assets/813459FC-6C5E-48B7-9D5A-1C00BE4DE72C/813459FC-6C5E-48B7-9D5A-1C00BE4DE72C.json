{"assets":{"87DF615EEA2E112FBAD57CA7BA86DB39":{"type":"texture","index":1,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/813459FC-6C5E-48B7-9D5A-1C00BE4DE72C.pdf"},"width":1024,"height":768},"C0EEEFF4B805E5D2EEB64957867C01C4":{"type":"texture","index":0,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/813459FC-6C5E-48B7-9D5A-1C00BE4DE72C.pdf"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00049229876906403734,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"87DF615EEA2E112FBAD57CA7BA86DB39"},{"animations":[{"timeOffset":0,"from":{"scalar":false},"beginTime":0,"repeatCount":0,"fillMode":"both","property":"hidden","autoreverses":false,"duration":0.01,"to":{"scalar":true}}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"C0EEEFF4B805E5D2EEB64957867C01C4"}]}]},"effects":[],"duration":0.01,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"Способ WebKit","targetRectangle":{"y":29.9521484375,"x":79,"width":119.65535,"height":19.531537628173822}},{"text":"Перебирать подэлементы document.body. Запоминать только один, последний найденный, элемент, а также, по окончании перебора – длину коллекции.","targetRectangle":{"y":49.9521484375,"x":79,"width":854.1195615234376,"height":37}},{"text":"Здесь кеширование используется меньше.","targetRectangle":{"y":87.404346466064453,"x":79,"width":327.78039999999999,"height":17.547801971435547}},{"text":"Разбор действий браузера по строкам:","targetRectangle":{"y":105.40434646606445,"x":79,"width":300.43844999999999,"height":17.547801971435547}},{"text":"Браузер создаёт пустую «живую коллекцию» elems. Пока ничего не ищет.","targetRectangle":{"y":123.40434646606445,"x":113.74999898601982,"width":571.47185058593709,"height":19}},{"text":"Перебирает элементы, пока не найдёт первый div. Запоминает его и возвращает.","targetRectangle":{"y":142.85654449462891,"x":113.74999898601982,"width":631.72586035156212,"height":19}},{"text":"Перебирает элементы дальше, пока не найдёт элемент с индексом 995. Запоминает его и возвращает.","targetRectangle":{"y":162.30874252319336,"x":113.74999898601982,"width":791.09406035156189,"height":19}},{"text":"Браузер запоминает только последний найденный, поэтому не помнит об элементе 500. Нужно найти его перебором поддерева. Этот перебор можно начать либо с начала – вперёд по поддереву, 500-й по счету) либо с элемента 995 – назад по поддереву, 495-й по счету. Так как назад разница в индексах меньше, то браузер выбирает второй путь и идёт от 995-го назад 495 раз. Запоминает теперь уже 500-й элемент и возвращает его.","targetRectangle":{"y":181.76094055175781,"x":113.74999898601982,"width":815.4321103515623,"height":92.452198028564453}},{"text":"Продолжает обход поддерева с 500-го (не 995-го!) элемента и до конца. Запоминает число найденных элементов и возвращает его.","targetRectangle":{"y":274.66533660888672,"x":113.74999898601982,"width":790.80089999999996,"height":35.547801971435547}},{"text":"Основное различие – в том, что Firefox запоминает все найденные, а Webkit – только последний. Таким образом, «метод Firefox» требует больше памяти, но гораздо эффективнее при повторном доступе к предыдущим элементам.","targetRectangle":{"y":310.66533660888672,"x":79,"width":869.22529999999995,"height":53.547801971435547}},{"text":"А «метод Webkit» ест меньше памяти и при этом работает не хуже в самом важном и частом случае – последовательном переборе коллекции, без возврата к ранее выбранным.","targetRectangle":{"y":364.66533660888672,"x":79,"width":780.75559999999996,"height":35.547801971435547}},{"text":"Запомненные элементы сбрасываются при изменениях DOM.","targetRectangle":{"y":400.66533660888672,"x":79,"width":500.1816500000001,"height":19.531537628173851}},{"text":"Документ может меняться. При этом, если изменение может повлиять на результаты поиска, то запомненные элементы необходимо сбросить. Например, добавление нового узла div сбросит запомненные элементы коллекции elem.getElementsByTagName('div').","targetRectangle":{"y":420.66533660888672,"x":79,"width":850.26519999999994,"height":56.452198028564453}},{"text":"Сбрасывание запомненных элементов при изменении документа выполняется интеллектуально.","targetRectangle":{"y":477.56973266601562,"x":79,"width":740.47749999999951,"height":17.547801971435547}},{"text":"Во-первых, при добавлении элемента будут сброшены только те коллекции, которые могли быть затронуты обновлением. Например, если в документе есть два независимых раздела <section>, и поисковая коллекция привязана к первому из них, то при добавлении во второй – она сброшена не будет.\\u2028Если точнее – будут сброшены все коллекции, привязанные к элементам вверх по иерархии от непосредственного родителя нового div и выше, то есть такие, которые потенциально могли измениться. И только они.","targetRectangle":{"y":495.56973266601562,"x":113.74999898601982,"width":834.4220499999999,"height":110.45219802856445}},{"text":"Во-вторых, если добавлен только div, то не будут сброшены запомненные элементы для поиска по другим тегам, например elem.getElementsByTagName('a').","targetRectangle":{"y":606.47412872314453,"x":113.74999898601982,"width":831.21066035156241,"height":38.452198028564453}},{"text":"…И, конечно же, не любые изменения DOM приводят к сбросу кешей, а только те, которые могут повлиять на коллекцию. Если где-то добавлен новый атрибут элементу – с кешем для getElementsByTagName ничего не произойдёт, так как атрибут никак не может повлиять на результат поиска по тегу.","targetRectangle":{"y":645.37852478027344,"x":113.74999898601982,"width":828.36579999999992,"height":55}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00049229876906403734,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"C0EEEFF4B805E5D2EEB64957867C01C4"}]}]}}]}